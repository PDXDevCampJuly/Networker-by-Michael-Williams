
{% extends "base.html" %}
{% load static from staticfiles %}

{% block title %} groups {% endblock %}

{% block heading %}

	{{ membership }}

	{% if user.is_authenticated and user.is_staff %}
	<a href="{% url 'invite' %}" class="btn btn-default btn-sm" aria-label="Left Align">
			<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
	</a>

	{% endif %}

{% endblock heading %}

{% block content %}

<div>

	{% if membership.group_image %}
	<img src="{{ membership.group_image.url }}" alt="{{ group }} profile image" class="profile img-responsive img-rounded">
	
	{% else %}
	<img src="https://unsplash.it/150/150/?random" alt="alternate random image for group" class="profile img-responsive img-rounded">
	
	{% endif %}

	<h4>
		Main

		{% if user.is_authenticated and user.is_staff %}
		<a href="{% url 'update_main_group' pk=membership.group_extension.pk %}" class="btn btn-default btn-xs" aria-label="Left Align">
  			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
		</a>

	{% endif %}
	</h4>
	
	<ul>	
		<li class='id'>ids: {{ membership.id }} &vrtri; {{ membership.group_extension.id }}</li>
	</ul>

	<h4>
		Additional

		{% if user.is_authenticated and user.is_staff %}
		<a href="{% url 'update_additional_group' pk=membership.group_extension.pk %}" class="btn btn-default btn-xs" aria-label="Left Align">
  			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
  		</a>

  	{% endif %}
	</h4>

	<ul>
		<li>{{ membership.welcome_message }}</li>
		<li>{{ membership.group_description | default:"none" }}</li>
		<br>	
		<li>website: {{ membership.group_website | default:"none" }}</li>
		<li>organizer: {{ membership.group_organizer.user_extension.first_name }} {{ membership.group_organizer.user_extension.last_name }}, {{ membership.group_organizer.user_extension.email }}</li>
	</ul>

	<h4>Members <span class="badge">{{ membership.group_extension.user_set.all | length }}</span></h4>
	<ul>
		{% for member in membership.group_extension.user_set.all %}

		<a href="{% url 'user_profile' member.pk %}">
			<li>{{ member.first_name }} {{ member.last_name }}</li>	
		</a>
		
		{% endfor %}
	</ul>

</div>

{% endblock content %}

